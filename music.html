<html>
  <head>
    <script src="https://sdk.scdn.co/spotify-player.js"></script>
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
		<script>
		const hash = window.location.hash.substring(1).split("&").reduce(function (initial, item) {
		  if (item) {
		    var parts = item.split("=");
		    initial[parts[0]] = decodeURIComponent(parts[1]);
		  }
		  return initial;
		}, {});
		window.location.hash = "";
		let _token = hash.access_token;
		const authEndpoint = "https://accounts.spotify.com/authorize";
		const clientId = "2fa7a68673df4cf8a00756ca33bc1fda";
		const redirectUri = "http://dshadow.ml";
		const scopes = [
		  "streaming",
		  "user-modify-playback-state"
		];
		if(!_token){
		  window.location = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join("+")}&response_type=token&show_dialog=true`;
		}
		window.onSpotifyPlayerAPIReady = () => {
		  const player = new Spotify.Player({
		    name: "Web Playback SDK Template",
		    getOAuthToken: cb => { cb(_token); }
		  });
		  player.on("initialization_error", e => console.error(e));
		  player.on("authentication_error", e => console.error(e));
		  player.on("account_error", e => console.error(e));
		  player.on("playback_error", e => console.error(e));
		  player.on("player_state_changed", state => {
		    console.log(state)
		    $("#current-track").attr("src", state.track_window.current_track.album.images[0].url);
		    $("#current-track-name").text(state.track_window.current_track.name);
		  });
		  player.on("ready", data => {
		    console.log("Ready with Device ID", data.device_id);
		    play(data.device_id);
		  });
		  player.connect();
		}
		function play(device_id) {
		  $.ajax({
		   url: "https://api.spotify.com/v1/me/player/play?device_id=" + device_id,
		   type: "PUT",
		   data: "{"uris": ["spotify:track:5ya2gsaIhTkAuWYEMB0nw5"]}",
		   beforeSend: function(xhr){xhr.setRequestHeader("Authorization", "Bearer " + _token );},
		   success: function(data) {
		     console.log(data)
		   }
		  });
		}
		</script>
    <title>[ Podcast ]</title>
    <script>window.fbAsyncInit = function(){FB.init({xfbml: true,autoLogAppEvents : true,xfbml: true,version: "v2.11"});};(function(d,s,id){var js,fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) return;js = d.createElement(s);js.id = id;js.src = "https://connect.facebook.net/en_US/sdk/xfbml.customerchat.js";fjs.parentNode.insertBefore(js,fjs);js.onLoad="console.log('Config Loaded for Messenger ...');";}(document,"script","facebook-jssdk"));</script>
    <script onLoad="console.log('Config Loaded ...');" src="/particles.min.js"></script>
    <script onLoad="console.log('Config Loaded ...');" src="/app.js"></script>
    <style>code,a,h2{user-select: none;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;}code[mainpage]{color:rgba(0,0,0,0.8);font-weight:bold;font-size:14;}code[skills]{color:rgba(255,255,255,0.6);font-weight:bold;}div[id="particles-js"],canvas{position:fixed;top:0%;right:0%;left:0%;bottom:0%;z-index:-100;}code{color:rgba(255,255,255,0.8);}div[block]{width:100%;height:100%;display:inline-flex;justify-content:center;text-align:center;align-items:center;}div[mainpage]{background-color:rgba(255,255,255,0.4);}div[skills]{text-align:left;background-color:rgba(0,0,0,0.8);}html{background-image:url('/001100');background-size:100% 100%;background-position:100% 100%;background-repeat:no-repeat;}body{background:linear-gradient(65deg,rgba(255,255,255,0.8) 0%,rgba(0,0,0,0.8) 50%,transparent 50%);background-attachment:fixed;}body,html{margin:0%;padding:0%;width:100vw;height:100vh;display:inline-block;background-color:rgba(0,0,0,0.2);}body{width:100%;height:100%;display:inline-block;overflow-x:hidden;overflow-y:auto;}audio{display:inline-block;width:100vw;position:fixed;left:0%;right:0%;top:0%;}</style>
  </head>
  <body>
    <div id="fb-root"></div>
    <div class="fb-customerchat" attribution=setup_tool page_id="104991084196119" theme_color="#272727" logged_in_greeting="Hi there. I Freelance creating Websites, What can I do for you?" logged_out_greeting="Hi there. I Freelance creating Websites, What can I do for you?"></div>
    <div id="particles-js"></div>
    <img id="current-track"/>
		<h3 id="current-track-name"></h3>
  </body>
</html>
